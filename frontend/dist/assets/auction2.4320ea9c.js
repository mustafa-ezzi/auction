import{aU as L,aV as h,aW as y,r as T,o as r,ah as c,aX as b,ab as t,e as l,H as g,aY as _,aZ as f,ai as x,aj as B,a_ as S,ak as d,R as a,ae as v,af as j,b as u,aa as k,i as P,a9 as C,a$ as U,b0 as E,b1 as H,an as V}from"./index.1658c72d.js";import{b as R,s as A,c as N,h as z,S as M}from"./home.b5118a4b.js";const F="/assets/congratulation.6e50cca7.png";const w={data(){return{dialog:!1,selectedTeam:{},teams:[],player:{},isLoaded:!1,selectedCategory:null,projects:[],selectedProject:null,categories:null,openDialog:!1,points:null,batting:R,congratulation:F,sold:A,cricket:N,home:z,backgroundUrl:`url(${M}) `,playerId:null,playerLoading:!1}},watch:{selectedProject(){this.getCategories()}},mounted(){this.getProjects()},methods:{async goHome(){this.$router.push("/")},async getTeamsMaxBid(){const i={category_id:this.selectedCategory,project_id:this.selectedProject.id},s=await h("/auction/teams-bid/",i);this.teams=s.data.data},async getRandomPlayer(){if(!(!this.selectedProject||!this.selectedCategory&&!this.playerId))try{this.getTeamsMaxBid(),this.playerLoading=!0,this.player={};const i={category_id:this.selectedCategory,project_id:this.selectedProject.id,player_id:this.playerId},s=await h("/auction/random-player/",i);this.player=s.data.data,this.playerId=null,this.playerLoading=!1}catch(i){this.playerLoading=!1,console.error("Error loading player:",i)}},async soldPlayer(i){if(!(!i.team_id||!this.points||!this.player))try{let s={team_id:i.team_id,sold_price:this.points,player_id:this.player.id};this.selectedTeam=i,await h("/auction/sold-player/",s),this.dialog=!0,this.getTeamsMaxBid()}catch(s){console.error("Error editing item:",s)}},async getProjects(){try{const i=await y("/project/");this.projects=i.data.data}catch(i){console.error("Error fetching product options:",i)}},async getCategories(){try{const i=await y(`/all/category/${this.selectedProject.id}/`);this.categories=i.data.data}catch(i){console.error("Error fetching product options:",i)}},initialize(){this.isLoaded=!0},playersPurchased(i){let s=0,m=0;return i.forEach(p=>{s=p.purchased+s+p.remaining,m=p.remaining+m}),`${m} / ${s}`},async resetPlayers(){await y(`/players/reset/${this.selectedProject.id}/`)},closeDialog(){this.dialog=!1,this.player={},this.points=null,this.selectedTeam={}}}},Y={class:"row justify-center"},W={key:0,class:"col-2 d-flex align-items-center"},X=["onClick"],Z={class:"grid h-full"},q={class:"md:mb-0 flex justify-between cart"},G=["src"],J={class:"text-end"},K={class:"text-lg font-semibold text-white mr-6"},O={class:"text-md text-white mr-6"},Q={key:0,class:"mt-16"},$={key:0,style:{"justify-items":"center"}},ee=["src"],te={key:1,class:"mt-12 grid grid-cols-1 lg:grid-cols-[65%_35%] pt-2 pl-2 pr-2 align-center w-[66rem] mx-auto rounded-tl-[50px] rounded-tr-[200px] bg-white opacity-80"},se={class:"mb-0 p-5"},oe={class:"text-6xl font-bold leading-tight mb-4"},le={class:"text-xl font-semibold leading-tight mb-4 textheading pt-6"},ie={class:"text-yellow-500"},re={class:"text-xl font-semibold leading-tight mb-4 textheading pt-6"},ce={class:"text-yellow-500"},ae={class:"mb-0 p-5"},ne=["src"],de={key:2,class:"text-center mt-16 no-player"},ue=t("h3",{class:"text-2xl font-bold text-red-900 leading-tight textheading"}," No Player Available! ",-1),ge=[ue],me={key:1,class:"col-2 d-flex align-items-center"},pe={class:"width-100 fixed bottom-0 text-center py-4 container mx-auto text-gray-500 text-sm bg-black"},he={class:"md:flex justify-between items-center"},ye={class:"flex text"},_e={class:"col-lg-4 col-12"},xe={class:"col-lg-4 col-12"},be={class:"col-lg-4 col-12"},fe={class:"lg:flex"},ve={class:"col-md-4 col-12"},je={class:"col-md-4 col-12"},ke={class:"col-md-4 col-12"},Pe={class:"center-container"},Ce={class:"center-containers"},Ve=["src"],we={class:"text-2xl font-bold text-grey-700 leading-tight"},De={class:"text-3xl font-bold text-grey-700 leading-tight"},Ie={class:"selected-team text-3xl font-bold leading-tight"},Le={class:"text-3xl font-bold text-grey-700 leading-tight"};function Te(i,s,m,p,e,n){const D=T("h7");return r(),c(x,null,[e.isLoaded?(r(),c("div",{key:0,class:"divStyle",style:b({backgroundImage:e.selectedProject.background?`url(${e.selectedProject.background})`:"none",overflow:"hidden"})},[t("div",Y,[e.selectedProject.sponsor1?(r(),c("div",W,[l(g,{class:"mt-2 ml-2",src:e.selectedProject.sponsor1},null,8,["src"])])):_("",!0),t("div",{class:f(["col-8",{"col-10":!e.selectedProject.sponsor1&&!e.selectedProject.sponsor2}])},[l(g,{class:"mx-auto mt-8 center",src:e.selectedProject.logo},null,8,["src"]),t("div",{class:f(["mt-2 grid gap-[0.5rem] opacity-80 transition-all duration-300 grid-cols-4",{"grid-cols-5":!e.selectedProject.sponsor1&&!e.selectedProject.sponsor2}])},[(r(!0),c(x,null,B(e.teams,(o,I)=>(r(),c("div",{key:I,class:"h-full rounded-md overflow-hidden bg-black shadow-lg rounded-3xl hover:bg-gray-700",onClick:Be=>n.soldPlayer(o)},[t("div",Z,[t("div",q,[t("img",{src:o.team_logo,class:"object-cover cardImage p-2"},null,8,G),t("p",J,[t("h5",K,d(o.team_name),1),t("h6",O," Max Bid : "+d(o.max_bid),1),l(D,{class:"text-sm text-white mr-6"},{default:u(()=>[a(" Remaining: "+d(n.playersPurchased(o.categories)),1)]),_:2},1024)])])])],8,X))),128))],2),e.playerLoading?(r(),c("div",Q,[l(S,{indeterminate:"",color:"green"})])):(r(),c(x,{key:1},[e.player&&e.player.video?(r(),c("div",$,[t("video",{class:"video",src:e.player.video,autoplay:"",controls:"",width:"840",height:"460"}," Your browser does not support the video tag. ",8,ee)])):e.player&&e.player.name?(r(),c("div",te,[t("div",se,[t("h5",oe,d(e.player.name),1),t("h5",le,[a(" Category: "),t("span",ie,d(e.player.category_name),1)]),t("h5",re,[a(" Availability: "),t("span",ce,d(e.player.availability),1)])]),t("div",ae,[e.player.profile_pic?(r(),c("img",{key:0,src:e.player.profile_pic,class:"object-cover rounded-[50px] h-[220px]",alt:""},null,8,ne)):_("",!0)])])):(r(),c("div",de,ge))],64))],2),e.selectedProject.sponsor2?(r(),c("div",me,[l(g,{class:"mt-2 mr-2",src:e.selectedProject.sponsor2},null,8,["src"])])):_("",!0)]),t("footer",pe,[t("div",he,[t("div",ye,[t("div",_e,[l(v,{modelValue:e.points,"onUpdate:modelValue":s[0]||(s[0]=o=>e.points=o),disabled:!e.player,type:"number",class:"text input-field",placeholder:"Bid Amount"},null,8,["modelValue","disabled"])]),t("div",xe,[l(j,{modelValue:e.selectedCategory,"onUpdate:modelValue":s[1]||(s[1]=o=>e.selectedCategory=o),class:"text input-field",label:"Category",items:e.categories,"item-value":"id","item-title":"name"},null,8,["modelValue","items"])]),t("div",be,[l(v,{modelValue:e.playerId,"onUpdate:modelValue":s[2]||(s[2]=o=>e.playerId=o),type:"number",class:"text input-field",placeholder:"Player Id"},null,8,["modelValue"])])]),t("div",fe,[t("div",ve,[t("button",{type:"button",class:"text-white second-button bg-[#2557D6] hover:bg-[#2557D6]/90 focus:ring-4 focus:ring-[#2557D6]/50 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-[#2557D6]/50 me-2 mb-2",onClick:s[3]||(s[3]=(...o)=>n.getRandomPlayer&&n.getRandomPlayer(...o))},[l(g,{src:e.batting,cover:"",class:"first-button-image",alt:"Cricket Image"},null,8,["src"]),a(" Player ")])]),t("div",je,[t("button",{type:"button",class:"text-white second-button bg-[#2557D6] hover:bg-[#2557D6]/90 focus:ring-4 focus:ring-[#2557D6]/50 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-[#2557D6]/50 me-2 mb-2",onClick:s[4]||(s[4]=(...o)=>n.resetPlayers&&n.resetPlayers(...o))},[l(g,{src:e.cricket,cover:"",class:"first-button-image",alt:"Cricket Image"},null,8,["src"]),a(" Reset ")])]),t("div",ke,[t("button",{type:"button",class:"text-white second-button bg-[#2557D6] hover:bg-[#2557D6]/90 focus:ring-4 focus:ring-[#2557D6]/50 focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-[#2557D6]/50 me-2 mb-2",onClick:s[5]||(s[5]=(...o)=>n.goHome&&n.goHome(...o))},[l(g,{src:e.home,cover:"",class:"first-button-image",alt:"Cricket Image"},null,8,["src"]),a(" Home ")])])])])])],4)):(r(),c("div",{key:1,class:"container center divStyle",style:b({backgroundImage:e.backgroundUrl})},[t("div",Pe,[l(C,{class:"cart-bg"},{default:u(()=>[l(k,null,{default:u(()=>[l(j,{modelValue:e.selectedProject,"onUpdate:modelValue":s[6]||(s[6]=o=>e.selectedProject=o),label:"Projects","return-object":"",items:e.projects,"item-title":"name"},null,8,["modelValue","items"]),t("div",Ce,[l(P,{disabled:!e.selectedProject,class:"mt-5",onClick:n.initialize},{default:u(()=>[a(" Click Here to Start Auction ")]),_:1},8,["disabled","onClick"])])]),_:1})]),_:1})])],4)),l(H,{modelValue:e.dialog,"onUpdate:modelValue":s[7]||(s[7]=o=>e.dialog=o),width:"960px",persistent:""},{default:u(()=>[l(C,null,{default:u(()=>[t("img",{src:e.sold,style:{"max-width":"25%"},class:"mx-auto mt-4"},null,8,Ve),l(k,{class:"dialog-cart-text"},{default:u(()=>[t("p",we,[t("span",De,[t("b",null,d(e.player.name),1)]),a(" sold to "),t("span",Ie,d(e.selectedTeam.team_name),1),a(" in "),t("span",Le,[t("b",null,d(e.points),1)]),a(" "+d(e.selectedProject.unit),1)])]),_:1}),l(U,null,{default:u(()=>[l(E),l(P,{class:"error",text:"Close",onClick:n.closeDialog},{default:u(()=>[a(" Close ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}typeof V=="function"&&V(w);const Ee=L(w,[["render",Te]]);export{Ee as default};
