import{j as m,u as v,c as w,c$ as x,o as k,ah as y,e,b as s,b4 as I,b5 as C,R as i,aa as c,ac as T,ag as S,ad as j,a8 as p,ae as f,ab as b,i as B,a9 as L,g as n,H as u,an as V,aV as M}from"./index.1658c72d.js";import{a as R,b as N,c as P,d as U}from"./auth-v1-tree.f5524167.js";import{V as E}from"./VCheckbox.b4b2bf73.js";const F={class:"auth-wrapper d-flex align-center justify-center pa-4"},$=b("h5",{class:"text-h5 text-center font-weight-semibold mb-1"}," Login ",-1),A={class:"d-flex align-center justify-space-between flex-wrap mt-1 mb-4"},D={__name:"login",setup(H){const l=m({username:"",password:""}),g=v(),h=w(()=>g.global.name.value==="light"?R:N),r=m(!1),d=x(),_=async()=>{try{const a=await M("auth/login/",l.value);a.status==200&&(localStorage.setItem("role",a.data.role),localStorage.setItem("username",a.data.username),localStorage.setItem("isLoggedIn",!0),localStorage.setItem("access_token",a.data.access),a.data.role=="superadmin"?d.push("/"):a.data.role=="team"&&(localStorage.setItem("teamId",a.data.team),d.push("/team-stats")))}catch(a){alert(a.response.data.message)}};return(a,t)=>(k(),y("div",F,[e(L,{class:"auth-card pa-4 pt-7",width:"450"},{default:s(()=>[e(I,{class:"justify-center"},{default:s(()=>[e(C,{class:"font-weight-semibold text-2xl text-uppercase"},{default:s(()=>[i(" Auction Pro ")]),_:1})]),_:1}),e(c,{class:"pt-2"},{default:s(()=>[$]),_:1}),e(c,null,{default:s(()=>[e(T,{onSubmit:t[4]||(t[4]=S(()=>{},["prevent"]))},{default:s(()=>[e(j,null,{default:s(()=>[e(p,{cols:"12"},{default:s(()=>[e(f,{modelValue:l.value.username,"onUpdate:modelValue":t[0]||(t[0]=o=>l.value.username=o),label:"Email",type:"email"},null,8,["modelValue"])]),_:1}),e(p,{cols:"12"},{default:s(()=>[e(f,{modelValue:l.value.password,"onUpdate:modelValue":t[1]||(t[1]=o=>l.value.password=o),label:"Password",type:r.value?"text":"password","append-inner-icon":r.value?"mdi-eye-off-outline":"mdi-eye-outline","onClick:appendInner":t[2]||(t[2]=o=>r.value=!r.value)},null,8,["modelValue","type","append-inner-icon"]),b("div",A,[e(E,{modelValue:l.value.remember,"onUpdate:modelValue":t[3]||(t[3]=o=>l.value.remember=o),label:"Remember me"},null,8,["modelValue"])]),e(B,{block:"",type:"submit",onClick:_},{default:s(()=>[i(" Login ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(u,{class:"auth-footer-start-tree d-none d-md-block",src:n(P),width:250},null,8,["src"]),e(u,{src:n(U),class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"]),e(u,{class:"auth-footer-mask d-none d-md-block",src:n(h)},null,8,["src"])]))}};typeof V=="function"&&V(D);export{D as default};
